<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Vegetation Patterns • The 'diffval' package for R</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Vegetation Patterns">
<meta name="description" content="Find, visualize and explore patterns of differential taxa in vegetation data (namely in a phytosociological table), using the Differential Value (DiffVal). Patterns are searched through mathematical optimization algorithms. Ultimately, Total Differential Value (TDV) optimization aims at obtaining classifications of vegetation data based on differential taxa, as in the traditional geobotanical approach (Monteiro-Henriques 2025, &lt;https://doi.org/10.3897/VCS.140466&gt;). The Gurobi optimizer, as well as the R package gurobi, can be installed from &lt;https://www.gurobi.com/products/gurobi-optimizer/&gt;. The useful vignette Gurobi Installation Guide, from package prioritizr, can be found here: &lt;https://prioritizr.net/articles/gurobi_installation_guide.html&gt;.">
<meta property="og:description" content="Find, visualize and explore patterns of differential taxa in vegetation data (namely in a phytosociological table), using the Differential Value (DiffVal). Patterns are searched through mathematical optimization algorithms. Ultimately, Total Differential Value (TDV) optimization aims at obtaining classifications of vegetation data based on differential taxa, as in the traditional geobotanical approach (Monteiro-Henriques 2025, &lt;https://doi.org/10.3897/VCS.140466&gt;). The Gurobi optimizer, as well as the R package gurobi, can be installed from &lt;https://www.gurobi.com/products/gurobi-optimizer/&gt;. The useful vignette Gurobi Installation Guide, from package prioritizr, can be found here: &lt;https://prioritizr.net/articles/gurobi_installation_guide.html&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">The 'diffval' package for R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://gitlab.com" aria-label="GitLab"><span class="fa fa-gitlab"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.r-project.org" aria-label="R-Project"><span class="fa fab fa-r-project"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://point-veg.gitlab.io/diffval/" aria-label="POINT-VEG packages"><span class="fa fa-home"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="diffval">diffval<a class="anchor" aria-label="anchor" href="#diffval"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>Find, visualize and explore patterns of differential taxa in vegetation data (namely in a phytosociological table), using the Differential Value (DiffVal). DiffVal captures the degree of exclusiveness of a taxon to each of the different clusters of relevés of a sorted phytosociological table. The patterns of differential taxa are searched through mathematical optimization algorithms, resorting the table while maximizing the sum of the DiffVal for all the taxa in the table, i.e., maximizing the Total Differential Value (TotDiffVal/TDV). Ultimately, TDV-optimization aims at obtaining classifications of vegetation data based on differential taxa, as in the traditional phytosociological (or geobotanical) approach (Monteiro-Henriques 2025, <a href="https://doi.org/10.3897/VCS.140466" class="external-link uri">https://doi.org/10.3897/VCS.140466</a>). The Gurobi optimizer, as well as the R package ‘gurobi’, can be installed from <a href="https://www.gurobi.com/products/gurobi-optimizer/" class="external-link uri">https://www.gurobi.com/products/gurobi-optimizer/</a>. The vignette “Gurobi Installation Guide”, from package ‘prioritizr’, is useful and can be found here: <a href="https://prioritizr.net/articles/gurobi_installation_guide.html" class="external-link uri">https://prioritizr.net/articles/gurobi_installation_guide.html</a>.</p>
<div class="section level2">
<h2 id="how-to-use">How to use<a class="anchor" aria-label="anchor" href="#how-to-use"></a>
</h2>
<p>The package provides several mathematical approaches for maximizing TDV. Finding a partition into <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math> subsets that maximizes TDV is NP-hard for any fixed <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>. For the case <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">k=2</annotation></semantics></math>, integer linear programming formulations are implemented in <code><a href="reference/optim_tdv_gurobi_k_2.html">optim_tdv_gurobi_k_2()</a></code>, allowing optimal solutions to be obtained for moderately sized data sets.</p>
<p>For larger data sets and for <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">k&gt;2</annotation></semantics></math>, (meta)heuristic algorithms are available: a <em>greedy randomized adaptive search procedure</em> (GRASP), a <em>simulated annealing</em> approach, and a <em>hill climbing</em> approach. Good-quality partitions can often be achieved by running the simulated annealing algorithm initialized with solutions obtained from GRASP (this is implemented in the function <code><a href="reference/optim_tdv_simul_anne.html">optim_tdv_simul_anne()</a></code>). The function <code><a href="reference/partition_tdv_grasp.html">partition_tdv_grasp()</a></code> implements GRASP on its own.</p>
<p>For the hill climbing approach, it is both possible and advisable to combine a first stage of <em>stochastic hill climbing</em> followed by a second stage of <em>greedy hill climbing</em> (see Monteiro-Henriques 2025). This is implemented in the function <code><a href="reference/optim_tdv_hill_climb.html">optim_tdv_hill_climb()</a></code>. Multiple runs of this approach explore the solution space broadly, allowing not only global optimization but also the recording of local optima, which can be relevant for understanding the data set’s structure (see Monteiro-Henriques 2025).</p>
<p>For very large instances, the above (meta)heuristics may become computationally expensive. In such cases, an alternative is to use the function <code><a href="reference/partition_tdv_grdtp.html">partition_tdv_grdtp()</a></code>, which implements a simplified version of the greedy algorithm. This function performs faster than <code><a href="reference/optim_tdv_simul_anne.html">optim_tdv_simul_anne()</a></code> or <code><a href="reference/optim_tdv_hill_climb.html">optim_tdv_hill_climb()</a></code>, albeit at the expense of the quality of the solutions produced.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>TMH was funded by the European Social Fund (POCH and NORTE 2020) and by National Funds (MCTES), through a FCT – Fundação para a Ciência e a Tecnologia (Portuguese Foundation for Science and Technology) postdoctoral fellowship (SFRH/BPD/115057/2016), as well as by National Funds, through the same foundation, under the project UIDB/04033/2020 (CITAB - Centre for the Research and Technology of Agro-Environmental and Biological Sciences). JOC was financially supported by FCT through the projects UIDB/MAT/00297/2020, UIDP/MAT/00297/2020 (Centro de Matemática e Aplicações).</p>
</div>
<div class="section level2">
<h2 id="related-articles">Related articles<a class="anchor" aria-label="anchor" href="#related-articles"></a>
</h2>
<p>Monteiro-Henriques T 2025. TDV-optimization: A novel numerical method for phytosociological tabulation. Vegetation Classification and Survey 6: 99-127. DOI: <a href="https://doi.org/10.3897/VCS.140466" class="external-link uri">https://doi.org/10.3897/VCS.140466</a></p>
<p>Portela-Pereira E, Monteiro-Henriques T, Casas C, Forner N, Garcia-Cabral I, Fonseca JP &amp; Neto C 2021. Teixedos no noroeste da Península Ibérica. Finisterra LVI(117): 127–150. DOI: 10.18055/FINIS18102 <a href="https://revistas.rcaap.pt/finisterra/article/view/18102" class="external-link uri">https://revistas.rcaap.pt/finisterra/article/view/18102</a></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of the package from GitLab.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_gitlab.html" class="external-link">install_gitlab</a></span><span class="op">(</span><span class="st">"point-veg/diffval"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=diffval" class="external-link">View on CRAN</a></li>
<li><a href="https://gitlab.com/point-veg/diffval/" class="external-link">Browse source code</a></li>
<li><a href="https://gitlab.com/point-veg/diffval/-/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing diffval</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Tiago Monteiro-Henriques <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4206-0699" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Jorge Orestes Cerdeira <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-3814-7660" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Fundação para a Ciência e a Tecnologia, Portugal <br><small class="roles"> Funder </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tiago Monteiro-Henriques, Jorge Orestes Cerdeira, Fundação para a Ciência e a Tecnologia, Portugal.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
